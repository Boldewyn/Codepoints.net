define(["jquery","jqueryui/position"],function(e){var t=0;e.fn.tooltip=function(){var n=e();return this.is(function(){return this.nodeType===1&&this.title})&&(n=n.add(this)),n.add("[title]",this).each(function(){var n=e(this),r=n.attr("title"),i="__tooltip_1AE511_"+ ++t,s=e("<i></i>"),o=e('<p class="tooltip"></p>').text(r).attr("id",i).prepend(s).hide().appendTo("body").on("mouseenter",function(){e(this).hide()});n.removeAttr("title").data("tooltip",o).attr("aria-labelledby",i).on("mouseenter",function(){o.stop(!0,!0).fadeIn("slow").position({my:"top",at:"bottom",of:n,offset:"0 8px",collision:"fit flip",using:function(t){var r=e(this);r.css({left:t.left,top:t.top}),t.left===0?s.css({left:""+(n.offset().left+n.outerWidth()/2)+"px"}):t.left>e(window).width()-o.outerWidth()-10?s.css({left:""+(n.offset().left+n.outerWidth()/2-t.left)+"px"}):s.css({left:"50%"}),t.top<n.offset().top?s.addClass("down"):s.removeClass("down")}})}).on("mouseleave click",function(){o.stop(!0,!0).hide()});if("querySelector"in document&&n.parent().length){var u=e(n.parent()[0].querySelector(":hover"));u.index(n)>=0&&n.trigger("mouseenter")}}),this}});